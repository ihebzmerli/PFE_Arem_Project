<div class="accordions-container row offset-sm-2 col-sm-11">
  <form [formGroup]="detembaForm" (ngSubmit) = "onSubmit()">
    <nb-card>
      <nb-card-header>
        <h6>Ajouter Emballage</h6>
      </nb-card-header>
        <nb-card-body> 
          <div class="row"> 
            <p class="col-sm-6">
              Date de création:
              <input type="text" nbInput fullWidth class="form-control" formControlName="dateEmba" [ngClass]="{ 'is-invalid': submitted && f.dateEmba.errors }" disabled/></p>     
          </div>
          <div class="row">
              <div class="col-sm-6"> 
                <label for="num" class="label">typ Embalage</label> 
                <nb-select fullWidth formControlName="typEmba" [ngClass]="{ 'is-invalid': submitted && f.typEmba.errors }" >
                  <nb-option value="NULL">-Select</nb-option>
                  <nb-option *ngFor="let itemsTypEmba of TypEmbaList" [value]="itemsTypEmba.value"><span>{{ itemsTypEmba.label }}</span></nb-option>
                </nb-select>
                <div *ngIf="submitted && f.typEmba.errors" class="invalid-feedback">
                  <div *ngIf="f.typEmba.errors.required">type emballage est obligatoire.</div>
                </div>
              </div>
              <div class="col-sm-6"> 
                <label for="qut" class="label">qut</label> 
                <input type="number" nbInput fullWidth placeholder="Quantité" class="form-control" formControlName="qut" [ngClass]="{ 'is-invalid': submitted && f.qut.errors }" />
                <div *ngIf="submitted && f.qut.errors" class="invalid-feedback">
                  <div *ngIf="f.qut.errors.required">qut~ emballage est obligatoire.</div>
                  <div *ngIf="f.qut.errors.min">qut~ emballage est positive et non null.</div>
                  <div *ngIf="f.qut.errors.max">qut~ emballage ne dépasse pas le maximum.</div>
                  <div *ngIf="f.qut.errors.pattern">qut~ emballage doit étre seulement un nombre.</div>
                </div>
              </div>
          </div>
          <div class="row">
              <div class="col-sm-6"> 
                <label for="bonprep_detEmbas" class="label">Bon préparation</label>
                <nb-select fullWidth formControlName="bonprep_detEmbas" [ngClass]="{ 'is-invalid': submitted && f.bonprep_detEmbas.errors }" >
                  <nb-option value="NULL">-Select</nb-option>
                  <nb-option *ngFor="let itemsBon of BonPrepList" [value]="itemsBon"><span>Bon: {{ itemsBon.numBon }}</span></nb-option>
                </nb-select>
              </div>
              <div class="col-sm-6">    
                <label for="poste" class="label">Poste</label>
                <input type="text" nbInput fullWidth placeholder="Poste" formControlName="poste" [ngClass]="{ 'is-invalid': submitted && f.poste.errors }" disabled/>
              </div>
          </div>
                  
        <!--  PROGRESSIVE  bar  -->

        <p-dialog header="Chargement des données" [(visible)]="displayModalBarProgression" [modal]="true" [style]="{width: '50vw'}" [baseZIndex]="10000"
        [draggable]="false" [resizable]="false">
        <p class="p-m-0"> 
          <nb-progress-bar [value]="progress" status="primary" [displayValue]="true"></nb-progress-bar>
        </p>
        </p-dialog>

        <!--  PROGRESSIVE  bar  -->
      </nb-card-body>
    </nb-card>
    <button nbButton status="primary" size="small" shape="round" class="btn btn-md btn-outline-info" outline> 
      Ajouter Emballage</button>
      <button nbButton (click)="onReset()" type="button" status="danger" size="small" shape="round" class="btn btn-md btn-outline-danger" outline> 
      Annuler</button>
  </form>
</div>
